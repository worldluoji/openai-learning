# aggregation
文本聚类，文本聚类就是把很多没有标注过的文本，根据它们之间的相似度，自动地分成几类。
基于 GPT 系列的模型进行文本聚类很简单，因为我们可以通过 Embedding 把文本变成一段向量。

example:
```
(1) 获取数据保存为csv
python3 a20newsgroups_to_csv.py
(2) 通过OpenAI处理数据拿到embdding, 保存为parquet
python3 b20newsgroups_data_process.py
(3) 通过k-means算法进行聚类分析，并通过OpenAI给每一个分类取名
python3 ckmeans_news_group.py
```
从这个统计数据的结果来看，大部分聚类的结果，能够对应到某一个原本新闻组的分类。比如，cluster 0 就有 93.98% 来自 comp.windows.x 这个分类。
在 20 个聚合出来的类里面，有 10 个类 80% 来自原本 newsgroup 的某一个分类。
剩下的分类中，比如 cluster 2，前两个分组加在一起占了 75%，这两个分组的名称分别是  pc.hardware  和 mac.hardware 其实都是聊电脑硬件的，不过是 newsgroups 里按照硬件不同做了区分而已。
我们只有 3 个类，对应的分组比较分散，分别是 cluster 6、9 和 19。

为什么通过OpenAI给每一个分类取名？

过去，我们要去给聚合出来的类取一个名字，往往只能选择看看各个类里面的文本是什么内容。
靠我们的“人脑”给“电脑”做出的选择起一个我们觉得合适的名字。
比如，对应到这里的 20 个分类的数据，往往我们只能每个挑上几篇内容，人工读一遍，再取一个名字。

有了 OpenAI 的 Completion 接口，我们完全可以让 AI 给我们聚合出来的类起一个名字。
我们可以随机在每个聚合出来的类里面，挑上 3～5 条，然后请 AI 总结一下该取什么名字，然后再挑一两条文本让 AI 给我们翻译成中文，看看名字取的是不是合理。
